<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="ru">
<head>
<!-- Generated by javadoc (1.8.0_05) on Thu Oct 16 16:43:40 MSK 2014 -->
<title>Overview (Koloboke Collections 0.6 API)</title>
<meta name="date" content="2014-10-16">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (Koloboke Collections 0.6 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Koloboke Collections 0.6 API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">This library is a carefully designed and efficient extension of the Java Collections Framework

 with primitive specializations and more.</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="net/openhft/koloboke/collect/package-summary.html">net.openhft.koloboke.collect</a></td>
<td class="colLast">
<div class="block">The root package of the collection library.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="net/openhft/koloboke/collect/hash/package-summary.html">net.openhft.koloboke.collect.hash</a></td>
<td class="colLast">
<div class="block">Contains basic interfaces and commonly used classes related to containers, based on hash tables.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="net/openhft/koloboke/collect/map/package-summary.html">net.openhft.koloboke.collect.map</a></td>
<td class="colLast">
<div class="block">Contains interfaces of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> specializations, their factories and cursors.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="net/openhft/koloboke/collect/map/hash/package-summary.html">net.openhft.koloboke.collect.map.hash</a></td>
<td class="colLast">
<div class="block">Contains interfaces of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> specializations, based on hash tables,
 their factories and static factory methods.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="net/openhft/koloboke/collect/set/package-summary.html">net.openhft.koloboke.collect.set</a></td>
<td class="colLast">
<div class="block">Contains interfaces of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util"><code>Set</code></a> specializations and their factories.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="net/openhft/koloboke/collect/set/hash/package-summary.html">net.openhft.koloboke.collect.set.hash</a></td>
<td class="colLast">
<div class="block">Contains interfaces of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util"><code>Set</code></a> specializations, based on hash tables,
 their factories and static factory methods.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="net/openhft/koloboke/function/package-summary.html">net.openhft.koloboke.function</a></td>
<td class="colLast">
<div class="block"><a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html?is-external=true"><code>java.util.function</code></a> polyfill for all specializations.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block">This library is a carefully designed and efficient extension of the Java Collections Framework

 with primitive specializations and more.



 <h2>Overview</h2>

 With a few exceptions, the library API consists of three types of classes:

 <ol>

     <li>Interface hierarchy, which generally repeats and extends Java Collection Framework (JCF)

     interface and class hierarchy. Also, all interfaces are populated for all 7 primitive type

     specializations, and "object specialization" for API symmetry (see

     <a href="#primitive-naming">primitive specializations naming convention</a> for more

     information on this). For example, in JCF <a href="http://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html?is-external=true" title="class or interface in java.util"><code>HashSet</code></a> <i>class</i> extends

     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util"><code>Set</code></a> extends <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a>. In this library

     <a href="net/openhft/koloboke/collect/set/hash/HashCharSet.html" title="interface in net.openhft.koloboke.collect.set.hash"><code>HashCharSet</code></a> <i>interface</i> extends

     <a href="net/openhft/koloboke/collect/set/CharSet.html" title="interface in net.openhft.koloboke.collect.set"><code>CharSet</code></a>, which extends <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util"><code>Set</code></a> and

     <a href="net/openhft/koloboke/collect/CharCollection.html" title="interface in net.openhft.koloboke.collect"><code>CharCollection</code></a>, which extends

     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a> and <a href="net/openhft/koloboke/collect/Container.html" title="interface in net.openhft.koloboke.collect"><code>Container</code></a>.



     <p>Also,

     the <code>net.openhft.koloboke.function</code> package polyfills <a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html?is-external=true"><code>java.util.function</code></a>

     functional interface set with the rest specializations  (<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html?is-external=true"><code>java.util.function</code></a> package

     defines only some specializations for <code>int</code>, <code>long</code> and <code>double</code> types.)

     </li>



     <li>Factory interfaces, each of them defines several dozens of factory methods which

     construct corresponding container interface instances. You can construct instances

     of three <a href="#mutability">mutability profiles</a>. Factory interfaces also form

     a hierarchy, which follow container's interface hierarchy, to ease making common

     configurations. For example, you can define a method which accept

     a <a href="net/openhft/koloboke/collect/hash/HashContainerFactory.html" title="interface in net.openhft.koloboke.collect.hash"><code>HashContainerFactory</code></a> to configure all factories

     which produce hash sets and maps in the application.



     <p>Note that all factories in the library are immutable, on changing any configuration a new

     copy of the factory is returned, with the target configuration changed.</li>



     <li>Final uninstantiable classes for each "leaf" container and the corresponding factory

     interface, which define the same set of static methods as the factory interface does,

     all of them just delegate to the default factory instance, obtained via

     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html?is-external=true" title="class or interface in java.util"><code>ServiceLoader</code></a>. This default factory instance is returned

     by <code>getDefaultFactory()</code> static method in each static factory method holder class.

     These classes have a name of container interface plus <code>-s</code> suffix, for example,

     <a href="net/openhft/koloboke/collect/map/hash/HashIntShortMaps.html" title="class in net.openhft.koloboke.collect.map.hash"><code>HashIntShortMaps</code></a> define static factory methods

     which return <a href="net/openhft/koloboke/collect/map/hash/HashIntShortMap.html" title="interface in net.openhft.koloboke.collect.map.hash"><code>HashIntShortMap</code></a> instances,

     delegating to the default

     <a href="net/openhft/koloboke/collect/map/hash/HashIntShortMapFactory.html" title="interface in net.openhft.koloboke.collect.map.hash"><code>HashIntShortMapFactory</code></a> implementation.</li>

 </ol>



 <h2><a name="jdk-equivalents"></a>Table of equivalents of JDK collection patterns</h2>



 <table BORDER CELLPADDING=3 CELLSPACING=1 summary="JDK equivalents">

     <tr>

         <th>JDK</th>

         <th>The closest equivalent from this library</th>

         <th>The recommended equivalent from this library</th>

     </tr>

     <tr valign=top>

         <td><pre> <code> new HashMap&lt;String, String&gt;();</code></pre></td>

         <td><pre> <code> HashObjObjMaps.getDefaultFactory()

     .withNullKeyAllowed(true)

     .&lt;String, String&gt;newMutableMap();</code></pre>

         </td>

         <td><pre> <code> HashObjObjMaps.&lt;String, String&gt;newUpdatableMap();</code></pre></td>

     </tr>

     <tr valign=top>

         <td><pre> <code> // unclear how "capacity" (100)

 // is translated to size. 50? 75? 100?

 new HashMap&lt;Integer, String&gt;(100);</code></pre></td>



         <td><pre> <code> HashIntObjMaps.&lt;String&gt;newMutableMap(

     (int) (100 * HashConfig.getDefault().getTargetLoad()));</code></pre></td>

         <td><pre> <code> // 50 is expected _size_

 HashIntObjMaps.&lt;String&gt;newUpdatableMap(50);</code></pre></td>

     </tr>

     <tr valign=top>

         <td><pre> <code> new IdentityHashMap&lt;Object, Double&gt;(map);</code></pre></td>

         <td><pre> <code> HashObjDoubleMaps.getDefaultFactory()

     // these loads used in IdentityHashMap internally

     .withHashConfig(HashConfig.fromLoads(1./3., 2./3., 2./3.))

     .withNullKeyAllowed(true)

     .withKeyEquivalence(Equivalence.identity())

     .newMutableMap(map);</code></pre></td>

         <td><pre> <code> HashObjDoubleMaps.getDefaultFactory()

     .withKeyEquivalence(Equivalence.identity())

     .newImmutableMap(map);</code></pre></td>

     </tr>

     <tr valign=top>

         <td><pre> <code> Collections.unmodifiableSet(new HashSet&lt;&gt;() {{

     add("Summer");

     add("Autumn");

     add("Winter");

     add("Spring");

 }});</code></pre></td>

         <td colspan=2>

 <pre> <code> HashObjSets.newImmutableSetOf("Summer", "Autumn", "Winter", "Spring");</code></pre></td>

     </tr>

 </table>



 <h2><a name="mutability">Mutability profiles</a></h2>

 Container factories allow to construct containers with several distinct degrees of mutability.

 It is useful for two main purposes: first, to defend your data from occasional (or intentional)

 container misuse, i. e. the same purpose for what <code>Collections.unmodifiable*</code> methods

 exist. Second, containers of lesser mutability are implemented in more efficient manner, whenever

 possible. So using immutable collections when applicable could improve your application's

 performance a bit.



 <h3>Immutable</h3>



 <p>Any operations that change the conceptual container state, e. g. insertions and removals,

 as well as that could touch internal representation,

 e. g. <a href="net/openhft/koloboke/collect/Container.html#shrink--"><code>Container.shrink()</code></a>, are disallowed. Other ones

 are allowed.



 <h3>Updatable</h3>



 <p>Everything is allowed, except removals of <em>individual</em> elements (entries),

 typically these operations' names contain word "remove" or "retain". Emphasis on "individual"

 means that <a href="net/openhft/koloboke/collect/Container.html#clear--"><code>Container.clear()</code></a> is allowed.



 <p>Think about updatable containers as "non-decreasing", which could be "reset"

 from time to time by <code>clear()</code>.



 <p>In real practice individual removals are rarely needed, so most of the time you should use

 updatable containers rather than fully mutable ones. On the other hand, prohibit of removals

 permits faster implementation of <a href="net/openhft/koloboke/collect/hash/HashContainer.html" title="interface in net.openhft.koloboke.collect.hash">hash

 containers</a> and iterators over many data structures.



 <h3>Mutable</h3>



 <p>All operations are allowed.



 <h3><a name="collection-mutability"></a><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a> mutability matrix</h3>



 <table BORDER CELLPADDING=3 CELLSPACING=1>

   <caption>This matrix shows which methods of the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a>

   interface are supported by collections with different mutability profiles.</caption>

   <tr><td>Method \ Mutability</td><td>Mutable</td><td>Updatable</td><td>Immutable</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#contains-java.lang.Object-" title="class or interface in java.util"><code>contains(Object)</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#containsAll-java.util.Collection-" title="class or interface in java.util"><code>containsAll(Collection)</code></a>

     </td><td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#iterator--" title="class or interface in java.util"><code>iterator()</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#toArray--" title="class or interface in java.util"><code>toArray()</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#toArray-T:A-" title="class or interface in java.util"><code>toArray(Object[])</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#add-E-" title="class or interface in java.util"><code>add(Object)</code></a></td>

          <td>✓</td><td>✓</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#addAll-java.util.Collection-" title="class or interface in java.util"><code>addAll(Collection)</code></a></td>

          <td>✓</td><td>✓</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#remove-java.lang.Object-" title="class or interface in java.util"><code>remove(Object)</code></a></td>

          <td>✓</td><td>-</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#removeAll-java.util.Collection-" title="class or interface in java.util"><code>removeAll(Collection)</code></a></td>

          <td>✓</td><td>-</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#retainAll-java.util.Collection-" title="class or interface in java.util"><code>retainAll(Collection)</code></a></td>

          <td>✓</td><td>-</td><td>-</td></tr>


   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#removeIf-java.util.function.Predicate-" title="class or interface in java.util"><code>removeIf(Predicate)</code></a>

     </td><td>✓</td><td>-</td><td>-</td></tr>

 </table>



 <h3><a name="map-mutability"></a><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> mutability matrix</h3>



 <table BORDER CELLPADDING=3 CELLSPACING=1>

   <caption>This matrix shows which methods of the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a>

   interface are supported by maps with different mutability profiles.</caption>

   <tr><td>Method \ Mutability</td><td>Mutable</td><td>Updatable</td><td>Immutable</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#containsKey-java.lang.Object-" title="class or interface in java.util"><code>containsKey(Object)</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#containsValue-java.lang.Object-" title="class or interface in java.util"><code>containsValue(Object)</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#get-java.lang.Object-" title="class or interface in java.util"><code>get(Object)</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>


   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#getOrDefault-java.lang.Object-V-" title="class or interface in java.util"><code>getOrDefault(Object, Object)</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#keySet--" title="class or interface in java.util"><code>keySet()</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#entrySet--" title="class or interface in java.util"><code>entrySet()</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#values--" title="class or interface in java.util"><code>values()</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>


   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#forEach-java.util.function.BiConsumer-" title="class or interface in java.util"><code>forEach(BiConsumer)</code></a></td>

          <td>✓</td><td>✓</td><td>✓</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#put-K-V-" title="class or interface in java.util"><code>put(Object, Object)</code></a></td>

          <td>✓</td><td>✓</td><td>-</td></tr>


   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#putIfAbsent-K-V-" title="class or interface in java.util"><code>putIfAbsent(Object, Object)</code></a></td>

          <td>✓</td><td>✓</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#computeIfAbsent-K-java.util.function.Function-" title="class or interface in java.util"><code>computeIfAbsent(Object, Function)</code></a></td>

          <td>✓</td><td>✓</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#replace-K-V-" title="class or interface in java.util"><code>replace(Object, Object)</code></a></td>

          <td>✓</td><td>✓</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#replace-K-V-V-" title="class or interface in java.util"><code>replace(Object, Object, Object)</code></a>

   </td>  <td>✓</td><td>✓</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#putAll-java.util.Map-" title="class or interface in java.util"><code>putAll(Map)</code></a></td>

          <td>✓</td><td>✓</td><td>-</td></tr>


   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#replaceAll-java.util.function.BiFunction-" title="class or interface in java.util"><code>replaceAll(BiFunction)</code></a>

   </td>  <td>✓</td><td>✓</td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#compute-K-java.util.function.BiFunction-" title="class or interface in java.util"><code>compute(Object, BiFunction)</code></a></td>

          <td>✓</td><td>✓, except removing on returning <code>null</code></td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#computeIfPresent-K-java.util.function.BiFunction-" title="class or interface in java.util"><code>computeIfPresent(Object, BiFunction)</code></a></td>

          <td>✓</td><td>✓, except removing on returning <code>null</code></td><td>-</td></tr>

   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#merge-K-V-java.util.function.BiFunction-" title="class or interface in java.util"><code>merge(Object, Object, BiFunction)</code></a></td>

          <td>✓</td><td>✓, except removing on returning <code>null</code></td><td>-</td></tr>


   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#remove-java.lang.Object-" title="class or interface in java.util"><code>remove(Object)</code></a></td>

          <td>✓</td><td>-</td><td>-</td></tr>


   <tr><td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true#remove-java.lang.Object-java.lang.Object-" title="class or interface in java.util"><code>remove(Object, Object)</code></a></td>

          <td>✓</td><td>-</td><td>-</td></tr>

 </table>



 <p>See other matrices for information if the concrete method is supported by the given

 mutability profile: <a href="Container.html#mutability"><code>Container</code></a>.



 <h2><a name="iteration"></a>Comparison of iteration ways</h2>

 In addition to the standard ways &mdash;

 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">iterators</a> and <code>forEach()</code>-like methods

 which accept closures, the library supplies <a href="net/openhft/koloboke/collect/Cursor.html" title="interface in net.openhft.koloboke.collect">cursors</a> for every container

 .



 <table BORDER CELLPADDING=3 CELLSPACING=1>

   <caption>Overview comparison of the ways to iterate over containers within the library

   </caption>

   <tr>

     <td></td>

     <td><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util"><code>Iterator</code></a></td>

     <td><a href="net/openhft/koloboke/collect/Cursor.html" title="interface in net.openhft.koloboke.collect"><code>Cursor</code></a></td>

     <td><code>forEach()</code></td>

     <td><code>forEachWhile()</code></td>

     <td><code>removeIf()</code></td>

   </tr>

   <tr>

     <td>Available for <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a> sub-interfaces in the library</td>

     <td colspan=5 align=center>Yes</td>

   </tr>

   <tr>

     <td>Available for <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> sub-interfaces in the library</td>

     <td colspan=5 align=center>Yes</td>

   </tr>

   <tr>

     <td>Coding convenience</td>

     <td>High, if elements aren't removed and <em>generic</em> version

         of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true#next--" title="class or interface in java.util"><code>Iterator.next()</code></a> method is used, Java "for-each" syntax

         is applicable. Medium otherwise.</td>

     <td>Medium</td>

     <td colspan=3>

         High, lambda syntax</td>

   </tr>

   <tr>

     <td>Supports early break from the iteration</td>

     <td>Yes, by simple break from the loop</td>

     <td>Yes, by simple break from the loop</td>

     <td>No</td>

     <td>Yes, by returning <code>false</code></td>

     <td>No</td>

   </tr>

   <tr>

     <td>Supports remove of iterated elements (entries)</td>

     <td>Yes, by <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true#remove--" title="class or interface in java.util"><code>Iterator.remove()</code></a></td>

     <td>Yes, by <a href="net/openhft/koloboke/collect/Cursor.html#remove--"><code>Cursor.remove()</code></a></td>

     <td>No</td>

     <td>No</td>

     <td>Yes, by returning <code>true</code></td>

   </tr>

   <tr>

     <td>Performance, iteration over <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a></td>

     <td>Medium, <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html?is-external=true" title="class or interface in java.util"><code>Map.Entry</code></a> objects are allocated</td>

     <td colspan=4 align=center>Very high</td>

   </tr>

   <tr>

     <td>Performance, iteration over <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a></td>

     <td>High, if <em>specialized</em> version of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true#next--" title="class or interface in java.util"><code>Iterator.next()</code></a> method

         is used. Medium otherwise, because every element is boxed.</td>

     <td colspan=4 align=center>Very high</td>

   </tr>

 </table>



 <h2><a name="compatibility"></a>Compatibility with Java Collections Framework</h2>

 All containers from the library have least possible (given initial design decisions) semantic

 difference with the most widely used implementation from JCF of the same parental interface.

 For example, <a href="net/openhft/koloboke/collect/set/hash/HashCharSet.html" title="interface in net.openhft.koloboke.collect.set.hash"><code>HashCharSet</code></a> extends

 <code>java.util.Set&lt;Character&gt;</code>, and made as similar as possible

 to <code>java.util.HashSet&lt;Character&gt;</code>, which extends the same interface. Non-obvious things,

 made compatible with JCF in the library:

 <ul>


     <li>Containers of objects support <code>null</code> elements, keys and values, despite this is

     an antipattern, because most JCF implementations does. <em>Important:</em> hash maps and sets

     with <code>Object</code> keys,

     e. g. <a href="net/openhft/koloboke/collect/map/hash/HashObjDoubleMap.html" title="interface in net.openhft.koloboke.collect.map.hash"><code>HashObjDoubleMap</code></a>, don't support

     <code>null</code> key by default, you should configure

<code>factory.</code><a href="net/openhft/koloboke/collect/hash/ObjHashFactory.html#withNullKeyAllowed-boolean-"><code>withNullKeyAllowed(true)</code></a>.

     </li>

     <li>All containers try to detect concurrent access to themselves, if at least one thread

     modify the container structurally, and to throw

     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util"><code>ConcurrentModificationException</code></a> on best-effort basis, i. e. they have

     <i>fail-fast semantics</i>. See documentation for <code>ConcurrentModificationException</code>

     for more information.</li>

     <li>Although <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Float.html?is-external=true#NaN" title="class or interface in java.lang"><code>Float.NaN</code></a> <code>!= Float.NaN</code> (similarly for <code>Double</code>)

     in Java, in this library in containers these values are treated consistently with their boxed

     versions (i. e. <code>new Float(Float.NaN)</code>, all such objects are equal to each other.</li>

 </ul>



 <h3>Known incompatibilities</h3>

 <ul>

     <li>Collections of primitives don't support <code>null</code> element, key or value. Obviously,

     this is by design and can't be fixed.</li>

     <li>Collections don't implement <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html?is-external=true" title="class or interface in java.lang"><code>Cloneable</code></a> yet. To be fixed, see

     <a href="https://github.com/OpenHFT/Koloboke/issues/14">the issue</a>.</li>

     <li>Collections don't implement <a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io"><code>Serializable</code></a> yet. To be fixed, see

     <a href="https://github.com/OpenHFT/Koloboke/issues/15">the issue</a>.</li>

     <li>Hash sets and maps with <code>byte</code>, <code>char</code> or <code>short</code> keys

     can't be complete, i. e. contain <i>all</i> keys of the type, unlike <code>HashSet&lt;Byte&gt;</code>,

     <code>HashSet&lt;Character&gt;</code> and <code>HashSet&lt;Short&gt;</code>. There should be 1-2 absent keys.

     On attempt of insertion the last keys

     <a href="net/openhft/koloboke/collect/hash/HashOverflowException.html" title="class in net.openhft.koloboke.collect.hash"><code>HashOverflowException</code></a> is thrown.</li>

     <li><i>It is not guaranteed</i> that any hash set or map implementation can hold more than

     250 millions of elements or entries. <code>HashOverflowException</code> is thrown on attempt

     of insertion an element or entry beyond the actual limit. <code>java.util.HashMap</code> and

     <code>java.util.HashSet</code> have higher limit, if there is enough heap space.</li>

 </ul>



 <h2><a name="primitive-naming"></a>Primitive specializations naming convention</h2>

 <ol>

     <li>The name of the specialized class is the name of the "basic" class with prefix equal

     to capitalized Java primitive type name of the element specialization, or key specialization

     type name followed value specialization type name without anything in between. Examples:

     <a href="net/openhft/koloboke/collect/CharCollection.html" title="interface in net.openhft.koloboke.collect"><code>CharCollection</code></a> extends <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a>,

     <a href="net/openhft/koloboke/collect/map/IntFloatMap.html" title="interface in net.openhft.koloboke.collect.map"><code>IntFloatMap</code></a> extends <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a>.

     There are also classes with <code>Obj-</code> prefix, they bring <a href="#api-additions">API

     additions</a> to collections of objects, if there are no additions for the class or

     interface, <code>Obj-</code> "specializations" are present anyway, for global API symmetry.</li>

     <li>If the specialized method has arguments of the specialized type, it has the same name

     as the non-specialized, thanks to Java's method overloading feature. There could be

     compilation issues in the client code, due to ambiguity, if there are several specialized

     arguments and some of them are boxed. You should "cast" them to unboxed values. For example:

     <pre> <code>

 IntIntMap map = HashIntIntMaps.newUpdatableMap();

 Integer key = 1;

 map.put(key, 2); // ambiguous method call

 map.put((int) key, 2); // correct</code></pre>

     There is one exception from this rule:

     <a href="net/openhft/koloboke/collect/ByteCollection.html#removeByte-byte-"><code>ByteCollection.removeByte(byte)</code></a> is a specialized version

     of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true#remove-java.lang.Object-" title="class or interface in java.util"><code>Collection.remove(Object)</code></a>, but have a different name (the same

     for <a href="net/openhft/koloboke/collect/LongCollection.html" title="interface in net.openhft.koloboke.collect"><code>LongCollection</code></a>,

     <a href="net/openhft/koloboke/collect/FloatCollection.html" title="interface in net.openhft.koloboke.collect"><code>FloatCollection</code></a>, etc.

     for symmetry. This is because <code>remove(int)</code>

     in <a href="net/openhft/koloboke/collect/IntCollection.html" title="interface in net.openhft.koloboke.collect"><code>IntCollection</code></a> will conflict with

     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true#remove-int-" title="class or interface in java.util"><code>List.remove(int)</code></a> method in <code>IntList</code> (not implemented yet, however).

     </li>

     <li>If the specialized method doesn't have arguments of the specialized types, but return

     the specialized type, capitalized primitive type name, optionally preceded by <code>-As-</code>

     infix, is added to the original method name. Examples: <ul>

         <li><a href="net/openhft/koloboke/collect/map/ObjCharMap.html#getChar-java.lang.Object-"><code>ObjCharMap.getChar(Object)</code></a></li>

         <li><a href="net/openhft/koloboke/collect/map/ObjCharMap.html#removeAsChar-java.lang.Object-"><code>ObjCharMap.removeAsChar(Object)</code></a></li>

         <li><a href="net/openhft/koloboke/collect/CharIterator.html#nextChar--"><code>CharIterator.nextChar()</code></a></li>

         <li><a href="net/openhft/koloboke/function/ToCharFunction.html#applyAsChar-T-"><code>ToCharFunction.applyAsChar(Object)</code></a></li>

     </ul>

     </li>

     <li>Method <a href="net/openhft/koloboke/collect/DoubleCollection.html#toDoubleArray--"><code>DoubleCollection.toDoubleArray()</code></a>, and others

     similar, is exceptional from those rules and have special name.</li>

 </ol>



 <h2><a name="api-additions"></a>API additions beyond JCF interfaces</h2>

 The library brings some extra functionality beyond implementing JCF interfaces and generating

 primitive specializations for each interface and method.



 <h3>The concept of pluggable element (key, value) equivalences</h3>

 JCF interfaces and implementations rely on Java built-in equality and hash code infrastructure:

 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang"><code>Object.equals(Object)</code></a> and <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang"><code>Object.hashCode()</code></a>. Container

 factories in the library allow to configure <a href="net/openhft/koloboke/collect/Equivalence.html" title="class in net.openhft.koloboke.collect">equivalences</a> for elements, keys and values. This allows to implement some functionality very

 easy, without defining new subclasses of the existing collections implementations. See

 the documentation to <a href="net/openhft/koloboke/collect/ObjCollection.html#equivalence--"><code>ObjCollection.equivalence()</code></a>,

 <a href="net/openhft/koloboke/collect/map/ObjObjMap.html#keyEquivalence--"><code>ObjObjMap.keyEquivalence()</code></a> and

 <a href="net/openhft/koloboke/collect/map/ObjObjMap.html#valueEquivalence--"><code>ObjObjMap.valueEquivalence()</code></a> methods for more

 information.



 <h3>Functional additions to <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a> interface:</h3>

 <ul>


     <li><a href="net/openhft/koloboke/collect/ObjCollection.html#forEachWhile-java.util.function.Predicate-"><code>ObjCollection.forEachWhile(java.util.function.Predicate)</code></a>

     performs the given action for each element of the collection, while it returns <code>true</code>.

     </li>

     <li>Containers in the library support <a href="net/openhft/koloboke/collect/Cursor.html" title="interface in net.openhft.koloboke.collect"><code>Cursor</code></a> iteration:

     <a href="net/openhft/koloboke/collect/ObjCollection.html#cursor--"><code>ObjCollection.cursor()</code></a>. See also

     <a href="#iteration">the comparison of iteration ways</a> in the library.</li>

 </ul>



 Of cause, there are appropriate specialized methods in the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util"><code>Collection</code></a> interface

 primitive specializations: <a href="net/openhft/koloboke/collect/ByteCollection.html" title="interface in net.openhft.koloboke.collect"><code>ByteCollection</code></a>,

 <a href="net/openhft/koloboke/collect/CharCollection.html" title="interface in net.openhft.koloboke.collect"><code>CharCollection</code></a>, etc.



 <h3>Functional additions to <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> interface:</h3>

 <ul>


             <li><a href="net/openhft/koloboke/collect/map/ObjObjMap.html#cursor--"><code>ObjObjMap.cursor()</code></a> &mdash; cursor

             iteration over maps.</li>

             <li><a href="net/openhft/koloboke/collect/map/ObjObjMap.html#forEachWhile-java.util.function.BiPredicate-"><code>ObjObjMap.forEachWhile(java.util.function.BiPredicate)</code></a> performs the given action for each entry of the map, while it returns <code>true</code>.</li>

             <li><a href="net/openhft/koloboke/collect/map/ObjObjMap.html#removeIf-java.util.function.BiPredicate-"><code>ObjObjMap.removeIf(java.util.function.BiPredicate)</code></a>

             removes all of the entries of this map that satisfy the given predicate.</li>

             <li><a href="net/openhft/koloboke/collect/map/ObjIntMap.html#addValue-K-int-"><code>ObjIntMap.addValue(Object, int)</code></a> and

             <a href="net/openhft/koloboke/collect/map/ObjIntMap.html#addValue-K-int-int-"><code>ObjIntMap.addValue(Object, int, int)</code></a> add

             the given value to the value associated to the given key. These methods are present

             in the map specializations with primitive value.</li>


 </ul>



 <h3>Additional control over hash table behaviour</h3>

 The single thing in the API of JDK hash table implementations, including

 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util"><code>HashMap</code></a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html?is-external=true" title="class or interface in java.util"><code>LinkedHashMap</code></a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html?is-external=true" title="class or interface in java.util"><code>HashSet</code></a>

 and <a href="http://docs.oracle.com/javase/8/docs/api/java/util/WeakHashMap.html?is-external=true" title="class or interface in java.util"><code>WeakHashMap</code></a>, that allows to control it's memory footprint and performance

 characteristics, is <code>loadFactor</code> constructor argument. <a href="http://docs.oracle.com/javase/8/docs/api/java/util/IdentityHashMap.html?is-external=true" title="class or interface in java.util"><code>IdentityHashMap</code></a>

 don't have even this one. This library allows to tune hash tables very precisely via a bunch

 of per-instance methods and factory configurations. See the documentation

 to <a href="net/openhft/koloboke/collect/hash/HashContainer.html" title="interface in net.openhft.koloboke.collect.hash"><code>HashContainer</code></a> and

 <a href="net/openhft/koloboke/collect/hash/HashConfig.html" title="class in net.openhft.koloboke.collect.hash"><code>HashConfig</code></a> classes for more information.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
